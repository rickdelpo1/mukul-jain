{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-slug-js","path":"/blog/javascript-under-the-hood/","result":{"data":{"markdownRemark":{"html":"<h2>What is JavaScript</h2>\n<p>Let's talk about one of the most famous languages today, JavaScript, one of three basic component (HTML, CSS &#x26; JS) of the web. Wikipedia says ( For understanding purpose I will breakdown definition in few parts)</p>\n<blockquote>\n<p>JavaScript is prototype-based with first-class functions</p>\n</blockquote>\n<p>To understand this, first understand what is Prototypal inheritance, In the prototypal inheritance form, objects inherit directly from other objects. In JS every object has a secret link to its parent object, thus whenever an object is asked for any property, it looks for it, if it does not have its parent will be asked then its parent, process will be continued till property is find or it will give an error.</p>\n<p>For example</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">Circle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">radius</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>radius <span class=\"token operator\">=</span> radius<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span>\r\n<span class=\"token class-name\">Circle</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">area</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">var</span> radius <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>radius<span class=\"token punctuation\">;</span>\r\n  <span class=\"token keyword\">return</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> radius <span class=\"token operator\">*</span> radius<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token class-name\">Circle</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">circumference</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">return</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>radius<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">var</span> circle <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Circle</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">var</span> circle2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Circle</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\ncircle<span class=\"token punctuation\">.</span><span class=\"token function\">area</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 78.53981633974483</span>\r\ncircle<span class=\"token punctuation\">.</span><span class=\"token function\">circumference</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//</span></code></pre></div>\n<p>Here radius is a Number which also inherits properties from <code class=\"language-text\">Number</code> thats why it outputs 5 on circle.radius.toString()</p>\n<p>By first-class functions, it meant that function can be stored in variables and then can be passed around.</p>\n<p>It also supports High Order Functions, it means function can take other function as input and return a function as output.</p>\n<blockquote>\n<p>Making it a multi-paradigm language, supporting object-oriented, imperative, and functional programming styles.</p>\n</blockquote>\n<p>Multi-paradigm means, you can program in with various coding styles like OOP or Functional or mix of both.</p>\n<blockquote>\n<p>It has an API for working with text, arrays, dates and regular expressions, but does not include any I/O, such as networking, storage, or graphics facilities, relying for these upon the host environment in which it is embedded.</p>\n</blockquote>\n<p>JS have API for text, arrays etc, this mean JS can count elements in an array or can pop something out from it but it can't perform an API call itself, yes you read it right JS Engine doesn't do it, browser does.</p>\n<h2>How JavaScript Works</h2>\n<p>Let's see how things work under the hood.</p>\n<p>Javascript is single threaded, it means it can execute one thing at a time, check the figure given below, whenever there some operation like console.log or a + b it pushes it into the stack operates it and pop it out.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/mukul-jain/static/9df64a1ca89622bd3964f53f935b85ec/5a190/engine-view.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.5625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC0klEQVQoz02RX0hTcRTHj7rZH2e2soxWDyExixzZP7CHoB4ECSF6KhCht5IgnyqijCURVsv8k0y32ULmKNQISl96MF/Cja419LIryWYuZ25tbVfb3e793W/cWdCBw4Ev53zOPyo+gKIfM0crVr/uzbx/VYGpdzudRCi6YF9YbHJ+x/mehXECqG9wRH+zb4J8Ph9NTU0RAGKMWRhjZwCcYoydVhTlBBGhANhX9vWj6cujVmN6sNtoHTpG1PB0fuJc90LqbEeor9ERIbvnre66O0AtLS3U2NhIkUiEVFWdXFpawvz8PLTIGPtOPc+e65EwUTRQZQRqyoGaEoDo9D1/2clWrrz+wXTpFdsYvRj0FD13u3Uej0c/Ojqqa25u3qyq6ngmk8Hs7OyaKIoqgBl6Ynuob79/m4hoIxHt1lbZsPU4MY1KtIeINpn3V5LN9ljndrt1Xq9XPzw8rDebzToAk7lcDoFAAKIoAkAkfwsAdwGVB1QfAJ+4tmpkTG0CEAYwLknSJiIqCIfDBVarlRoaGiiZTJIsyx2Msc+KokwyxvyyLL/MAzNZ2RuKKUjnchAWOa1Txa9U6lY8HkcikfglSZJByxsZGSmk/ywUCuXrDQbDxr+DEa0C9HNVHnzzKY3QjBejH55qwJ2xWOxGJBLB8vLySjabNWgArJ+BKisrS4loR3Fx8XaTybStv7+/pK6ujjweT8H6+1V0QF1L/uZsYajqNxUoj8djl6PRaG5lZeVTNpstIaJCi8WySwNyHHeV47ig3+93TU9P+wVBcASDwbFgMNhJVVUHNeiGxSSMMlAWjke3Xrpm1TS9KIrbJEna0tbWRrW1tVRfX1+iDcDz/EVBEF7Pzc3dEQRhiOf5dp7nXTzPt5LL5Tpqt9trujo7q7s62o/09HQfGhgYOOx0Oqt7e3vNdrvd4nA4ahwOR/W/tTVPp9OkKAqlUqm8JxKJvPYH9c/kvf2BCm8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"JS Engine top view\"\n        title=\"JS Engine top view\"\n        src=\"/mukul-jain/static/9df64a1ca89622bd3964f53f935b85ec/5a190/engine-view.png\"\n        srcset=\"/mukul-jain/static/9df64a1ca89622bd3964f53f935b85ec/6f3f2/engine-view.png 256w,\n/mukul-jain/static/9df64a1ca89622bd3964f53f935b85ec/01e7c/engine-view.png 512w,\n/mukul-jain/static/9df64a1ca89622bd3964f53f935b85ec/5a190/engine-view.png 800w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>If it is function call then it puts the function in the stack operates it, pops everything out, like shown below</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// taking this code as example</span>\r\n<span class=\"token keyword\">var</span> <span class=\"token function-variable function\">add</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">a<span class=\"token punctuation\">,</span> b</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  <span class=\"token keyword\">return</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">var</span> y <span class=\"token operator\">=</span> <span class=\"token number\">7</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token keyword\">var</span> z <span class=\"token operator\">=</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 612px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/mukul-jain/static/b96e476fdc58a8ded71002831eb5b0c6/8c76f/steps.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtklEQVQoz02Rz27TQBDGB8mqOHDi0ks4ceWAuFGBOJYD5U8FpwqOfRGeokJQKS/AAyARIUUcIhUJS3UcNzSOk7hO7CI5jrO72Z1ZNNamwtLnWc9+89tvZSAiYCEihGEIxhiw1jYajUYAAPc9z3sMAHd6vV7TZ7/WGqSUsJ3fMnjxmoWIz4MguKW1bhHROyJ6QURvpZQPGWKM2bPWHhLRARG90VrfFULcJqJXRPSSiA4R8Rmf2DyIWPq+72mtP/A3EZHrf2EgIv7Yenlrs9k8FUK0nG3LOP8fmHU6nR2l1BGbiKjmvjHmxAG/OavifSnlk7Is7zmgdowzcMOsq3a7vVuW5bEbXDvgJwDg5N9dOs3++Xy+7/v+AzeLXBHx101Ca23W7XZ3pJRHxhi+Uu3qifsRNwmbl1KcsOV62tUzqKqVZQkh/lprvaIo3s/S1PbDSI+TxBZF8XmxWIAQorNa1Xa5rOx6vW6urJRq8bpcVo3quvZhEA2Hg2h4kabpTwbmeX4wnc3m4eDidxwnV3m++BjHI8iy7HT45zIJwuh8MpleXl8Xj+pVtZtMplHQj4KgH43jePz1H3/5G9H6lYy8AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"JS engine code processing\"\n        title=\"JS engine code processing\"\n        src=\"/mukul-jain/static/b96e476fdc58a8ded71002831eb5b0c6/8c76f/steps.png\"\n        srcset=\"/mukul-jain/static/b96e476fdc58a8ded71002831eb5b0c6/6f3f2/steps.png 256w,\n/mukul-jain/static/b96e476fdc58a8ded71002831eb5b0c6/01e7c/steps.png 512w,\n/mukul-jain/static/b96e476fdc58a8ded71002831eb5b0c6/8c76f/steps.png 612w\"\n        sizes=\"(max-width: 612px) 100vw, 612px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Then how it is non-blocking? why not things like setTimeout or asynchronous call complete first blocking other code?</p>\n<p>Whenever there is something like asynchronous call or timeout function, it comes stack then it passes to the browser which can do it multiple things together, after finishing the tasks browser puts callback queue, event loop keep looking at the stack and callback queue, when it finds the stack empty it puts first from queue to stack.</p>\n<p>Let's see a working example, for simplicity we use will <code class=\"language-text\">console.log</code> and time setTimeout only.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"d\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"b\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"c\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><img src=\"/mukul-jain/fd658ebcb933d95b817aea85105c18a3/demo.gif\" alt=\"JS Engine working\"></p>\n<p>Thanks to Philip Roberts for wonderful explanation on working of JS.</p>","frontmatter":{"date":"May 23, 2017","slug":"/blog/Javascript-under-the-hood","title":"Javascript under the hood"}}},"pageContext":{"id":"9e4f38d4-79ab-5785-a9b0-ff6c5cb8895b","frontmatter__slug":"/blog/Javascript-under-the-hood","__params":{"frontmatter__slug":"blog"}}},"staticQueryHashes":["3897982121"]}