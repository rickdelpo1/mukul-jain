<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/mukul-jain/styles.090c873fd6dd69aaaf6a.css" id="gatsby-global-css">@import url(https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;700&display=swap);.toggleWrapper{overflow:hidden;position:relative;top:-12px;transform:scale(.5)}.toggleWrapper input{left:-99em;position:absolute}.toggleWrapper .toggle-label{background-color:#83d8ff;border-radius:84px;cursor:pointer;display:inline-block;height:50px;position:relative;transition:background-color .2s cubic-bezier(.445,.05,.55,.95);width:90px}.toggleWrapper .toggle-label:before{font-size:18px;left:-50px;position:absolute;top:15px}.toggleWrapper .toggle-label:after{color:#749ed7;font-size:18px;position:absolute;right:-48px;top:15px}.toggleWrapper .toggle__handler{background-color:#ffcf96;border-radius:50px;box-shadow:0 2px 6px rgba(0,0,0,.3);display:inline-block;height:44px;left:3px;position:relative;top:3px;transform:rotate(-45deg);transition:all .4s cubic-bezier(.68,-.55,.265,1.55);width:44px;z-index:1}.toggleWrapper .toggle__handler .crater{background-color:#e8cda5;border-radius:100%;opacity:0;position:absolute;transition:opacity .2s ease-in-out}.toggleWrapper .toggle__handler .crater--1{height:4px;left:10px;top:18px;width:4px}.toggleWrapper .toggle__handler .crater--2{height:6px;left:22px;top:28px;width:6px}.toggleWrapper .toggle__handler .crater--3{height:8px;left:25px;top:10px;width:8px}.toggleWrapper .star{background-color:#fff;border-radius:50%;position:absolute;transition:all .3s cubic-bezier(.445,.05,.55,.95)}.toggleWrapper .star--1{height:3px;left:35px;top:10px;width:30px;z-index:0}.toggleWrapper .star--2{height:3px;left:28px;top:18px;width:30px;z-index:1}.toggleWrapper .star--3{height:3px;left:40px;top:27px;width:30px;z-index:0}.toggleWrapper .star--4,.toggleWrapper .star--5,.toggleWrapper .star--6{opacity:0;transition:all .3s cubic-bezier(.445,.05,.55,.95) 0}.toggleWrapper .star--4{height:2px;left:11px;top:16px;transform:translate3d(3px,0,0);width:2px;z-index:0}.toggleWrapper .star--5{height:3px;left:17px;top:32px;transform:translate3d(3px,0,0);width:3px;z-index:0}.toggleWrapper .star--6{height:2px;left:28px;top:36px;transform:translate3d(3px,0,0);width:2px;z-index:0}.toggleWrapper input:checked+.toggle-label{background-color:#08446d}.toggleWrapper input:checked+.toggle-label:before{color:#749ed7}.toggleWrapper input:checked+.toggle-label:after{color:#fff}.toggleWrapper input:checked+.toggle-label .toggle__handler{background-color:#ffe5b5;transform:translate3d(40px,0,0) rotate(0)}.toggleWrapper input:checked+.toggle-label .toggle__handler .crater{opacity:1}.toggleWrapper input:checked+.toggle-label .star--1{height:2px;width:2px}.toggleWrapper input:checked+.toggle-label .star--2{height:4px;transform:translate3d(-5px,0,0);width:4px}.toggleWrapper input:checked+.toggle-label .star--3{height:2px;transform:translate3d(-7px,0,0);width:2px}.toggleWrapper input:checked+.toggle-label .star--4,.toggleWrapper input:checked+.toggle-label .star--5,.toggleWrapper input:checked+.toggle-label .star--6{opacity:1;transform:translateZ(0)}.toggleWrapper input:checked+.toggle-label .star--4{transition:all .3s cubic-bezier(.445,.05,.55,.95) .2s}.toggleWrapper input:checked+.toggle-label .star--5{transition:all .3s cubic-bezier(.445,.05,.55,.95) .3s}.toggleWrapper input:checked+.toggle-label .star--6{transition:all .3s cubic-bezier(.445,.05,.55,.95) .4s}.project-card-wrapper{margin-bottom:64px;width:100%}.project-card-wrapper .project-card{border-radius:4px;height:480px;margin-top:80px;max-width:1024px;width:calc(100% - 64px)}.project-card-wrapper .project-card .image{flex-grow:2;width:744px}.project-card-wrapper .project-card .image:focus,.project-card-wrapper .project-card .image:hover{cursor:pointer}.project-card-wrapper .project-card .image .main-image{height:100%;-o-object-fit:fill;object-fit:fill;width:100%}.project-card-wrapper .project-card .details-wrapper{flex-shrink:0;position:relative;width:280px}.project-card-wrapper .project-card .details-wrapper .details{height:100%;overflow:auto;padding:32px 24px;position:absolute;right:0;top:0;transition:width .5s;width:280px}.project-card-wrapper .project-card .details-wrapper h4{font-size:24px;font-weight:400;margin:0 0 2px}.project-card-wrapper .project-card .details-wrapper .header h4{display:inline;margin-right:8px}.project-card-wrapper .project-card .details-wrapper .header a{border:1px solid;border-radius:4px;display:inline-block;font-size:12px;margin-right:8px;padding:1px 8px;position:relative;top:-2px}.project-card-wrapper .project-card .details-wrapper p{font-size:16px;font-weight:400;margin:0}.project-card-wrapper .project-card .details-wrapper p:not(:last-child){margin-bottom:40px}.dark .project-card{border:2px solid #fff}.dark .project-card .details-wrapper:hover .details{width:480px}.dark .project-card .details{background:#0d0d0d;border-left:2px solid #fff}.dark .project-card:focus,.dark .project-card:hover{border:2px solid #22efab;box-shadow:2px 4px 9px #22efab;outline:none}.light .project-card{background:#fff;border:2px solid #3d7bfa}.light .project-card .details-wrapper:hover .details{width:480px}.light .project-card .details{background:#fff;border-left:2px solid #3d7bfa}.light .project-card:focus,.light .project-card:hover{border:2px solid #3d7bfa;box-shadow:2px 4px 9px #3d7bfa;outline:none}.cloud{left:calc(50% - 421px);position:fixed;top:180px;z-index:-1}.glitter-footer{margin-bottom:-80px;position:relative;width:100%}.glitter-footer.glitter-fixed{bottom:0;left:0;margin-bottom:0;position:fixed}.glitter-footer .city-scape{margin-bottom:-5px;width:100%}.glitter-footer .plane{animation:animate 12s linear infinite;bottom:12%;bottom:100px;cursor:pointer;height:7%;min-height:50px;position:absolute;transform:scaleY(-1) rotate(180deg);z-index:221}@keyframes animate{0%{left:calc(100% + 120px)}to{left:-120px}}@keyframes animate2{0%{left:calc(100% + 120px)}to{left:-120px}}@media(max-width:640px){.glitter-footer .plane{bottom:60px}}.dark #___gatsby{background:#0d0d0d;color:#efefef}h1{font-size:48px;font-weight:500}h2{font-size:32px}h2,h3{font-weight:400}h3{font-size:24px}.dark h1{color:#22efab}.light h1{color:#3d7bfa}.blog-post{align-items:center;display:flex;flex-direction:column;justify-content:center;margin-top:64px}.blog-post .blog-post-header{margin-bottom:40px;max-width:720px}.blog-post .blog-post-content>div{max-width:720px}.blog-post .blog-post-content p{font-size:16px;font-weight:400;line-height:1.75}.blog-post .blog-post-content a{color:#22efab!important}.blog-post .blog-post-content blockquote{border-left:3px solid #034a83;margin:16px 0;padding:2px 8px}.blog-post .blog-post-content blockquote p{margin:0}.blog-post .blog-post-content .gatsby-resp-image-wrapper,.blog-post .blog-post-content img{margin:40px 0}.blog-post .blog-post-content code[class*=language-],.blog-post .blog-post-content pre[class*=language-]{font-feature-settings:normal;word-wrap:normal;background:none;color:#fff;font-family:Consolas,Menlo,Monaco,source-code-pro,Courier New,monospace;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;margin-bottom:0;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}.blog-post .blog-post-content pre[class*=language-]{margin-top:0;overflow:auto;padding:1.3125rem}.blog-post .blog-post-content pre[class*=language-]::selection{background:#27292a}.blog-post .blog-post-content pre[class*=language-]::selection,.blog-post .blog-post-content pre[class*=language-] ::selection{background:rgba(255,255,255,.15);text-shadow:none}.blog-post .blog-post-content :not(pre)>code[class*=language-]{background:rgba(115,124,153,.2);border-radius:.3em;color:#e6e6e6;padding:.15em .2em .05em;white-space:normal}.blog-post .blog-post-content .token.attr-name{color:#addb67;font-style:italic}.blog-post .blog-post-content .token.comment{color:#809393}.blog-post .blog-post-content .token.string,.blog-post .blog-post-content .token.url{color:#addb67}.blog-post .blog-post-content .token.variable{color:#d6deeb}.blog-post .blog-post-content .token.number{color:#f78c6c}.blog-post .blog-post-content .token.builtin,.blog-post .blog-post-content .token.char,.blog-post .blog-post-content .token.constant,.blog-post .blog-post-content .token.function{color:#82aaff}.blog-post .blog-post-content .token.punctuation{color:#c792ea}.blog-post .blog-post-content .token.doctype,.blog-post .blog-post-content .token.selector{color:#c792ea;font-style:"italic"}.blog-post .blog-post-content .token.class-name{color:#ffcb8b}.blog-post .blog-post-content .token.keyword,.blog-post .blog-post-content .token.operator,.blog-post .blog-post-content .token.tag{color:#ffa7c4}.blog-post .blog-post-content .token.boolean{color:#ff5874}.blog-post .blog-post-content .token.property{color:#80cbc4}.blog-post .blog-post-content .token.namespace{color:#b2ccd6}.blog-post .blog-post-content pre[data-line]{padding:1em 0 1em 3em;position:relative}.blog-post .blog-post-content .gatsby-highlight-code-line{background-color:#022a4b;border-left:.25em solid #ffa7c4;display:block;padding-left:1.25em;padding-right:1em}.blog-post .blog-post-content .gatsby-highlight{-webkit-overflow-scrolling:touch;background:#011627;border-radius:10px;margin-bottom:1.75rem;margin-top:1.75rem;overflow:auto}@media(max-width:672px){.blog-post .blog-post-content .gatsby-highlight{border-radius:0}}.blog-post .blog-post-content .gatsby-highlight pre[class*=language-]{float:left;min-width:100%}.light .blog-post .blog-post-content a{color:#3d7bfa!important}.light .blog-post .blog-post-content :not(pre)>code[class*=language-]{background:rgba(255,229,100,.2);color:#1a1a1a}*{box-sizing:border-box}#___gatsby,#___gatsby>div,body,html{height:100%;margin:0;padding:0;width:100%}body{font-family:IBM Plex Sans,sans-serif}#___gatsby{overflow:auto}.display-none{display:none}main{margin-left:auto;margin-right:auto;max-width:1024px}.with-padding,main{padding-bottom:64px;padding-top:64px}a{text-decoration:none}.no-margin{margin:0}.h-100{height:100%}.flex{display:flex}.flex.row-space-between{justify-content:space-between}.flex.column{flex-direction:column}.flex.row-center{justify-content:center}.flex.column-center{align-items:center}.underline{text-decoration:underline}.blog .list h3{font-weight:500}.blog .list .meta{font-size:14px}.blog .list .preview{margin:8px 0}.home-toggle-wrapper{position:relative}.home-toggle-wrapper .toggle{position:absolute;right:0;top:0}.dark .blog .list h3{color:#22efab}.dark a,.dark a:visited{color:#efefef}.dark a:hover{color:#22efab}.dark .highlight{color:#22efab!important}.light .blog .list h3{color:#3d7bfa}.light a,.light a:visited{color:#0d0d0d}.light a:hover{color:#3d7bfa}.light .highlight{color:#3d7bfa!important}@media only screen and (max-width:1024px){main{padding-left:32px;padding-right:32px}.project-card-wrapper .project-card{height:auto}}@media only screen and (max-width:960px){main{padding-left:32px;padding-right:32px}.project-card-wrapper .project-card{flex-direction:column}.project-card-wrapper .project-card .image{width:100%}.project-card-wrapper .project-card .details-wrapper{flex-grow:2;width:100%}.project-card-wrapper .project-card .details-wrapper .details{border-left:none;position:static;width:100%}.project-card-wrapper .project-card .details-wrapper:hover .details{width:100%}}@media only screen and (max-width:540px){.project-card-wrapper{margin-bottom:32px}.project-card-wrapper .project-card{flex-direction:column}.project-card-wrapper .project-card .image{display:none}.project-card-wrapper .project-card .details-wrapper{height:auto}.project-card-wrapper .project-card .details-wrapper .details{position:static}.home-wrapper .menu{flex-wrap:wrap}}@media only screen and (max-width:480px){main{padding-left:16px;padding-right:16px}.blog-post-content,.blog-post-header,.project-card-wrapper .project-card{width:100%}}.home-wrapper .menu{margin-top:64px}.home-wrapper .menu h3:not(:last-child){margin-right:64px}.home-wrapper a{border:2px solid;padding:2px 12px}</style><meta name="generator" content="Gatsby 3.6.0"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><title data-react-helmet="true">Smart Grid: A Lightweight virtualized grid. | Mukul Jain</title><meta data-react-helmet="true" name="description" content="Personal Blog &amp; Portfolio"/><meta data-react-helmet="true" name="image" content="https://www.mukulja.in/images/snape.png"/><meta data-react-helmet="true" property="og:url" content="https://www.mukulja.in/mukul-jain/blog/smart-grid-a-lightweight-virtualized-grid/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Smart Grid: A Lightweight virtualized grid."/><meta data-react-helmet="true" property="og:description" content="Personal Blog &amp; Portfolio"/><meta data-react-helmet="true" property="og:image" content="https://www.mukulja.in/images/snape.png"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@ion_reactor"/><meta data-react-helmet="true" name="twitter:title" content="Smart Grid: A Lightweight virtualized grid."/><meta data-react-helmet="true" name="twitter:description" content="Personal Blog &amp; Portfolio"/><meta data-react-helmet="true" name="twitter:image" content="https://www.mukulja.in/images/snape.png"/><link rel="sitemap" type="application/xml" href="/mukul-jain/sitemap/sitemap-index.xml"/><link rel="icon" href="/mukul-jain/favicon-32x32.png?v=9c291766145c954869873b063e51e017" type="image/png"/><link rel="manifest" href="/mukul-jain/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/mukul-jain/icons/icon-48x48.png?v=9c291766145c954869873b063e51e017"/><link rel="apple-touch-icon" sizes="72x72" href="/mukul-jain/icons/icon-72x72.png?v=9c291766145c954869873b063e51e017"/><link rel="apple-touch-icon" sizes="96x96" href="/mukul-jain/icons/icon-96x96.png?v=9c291766145c954869873b063e51e017"/><link rel="apple-touch-icon" sizes="144x144" href="/mukul-jain/icons/icon-144x144.png?v=9c291766145c954869873b063e51e017"/><link rel="apple-touch-icon" sizes="192x192" href="/mukul-jain/icons/icon-192x192.png?v=9c291766145c954869873b063e51e017"/><link rel="apple-touch-icon" sizes="256x256" href="/mukul-jain/icons/icon-256x256.png?v=9c291766145c954869873b063e51e017"/><link rel="apple-touch-icon" sizes="384x384" href="/mukul-jain/icons/icon-384x384.png?v=9c291766145c954869873b063e51e017"/><link rel="apple-touch-icon" sizes="512x512" href="/mukul-jain/icons/icon-512x512.png?v=9c291766145c954869873b063e51e017"/><link as="script" rel="preload" href="/mukul-jain/webpack-runtime-5550ab59d76db91a0fb6.js"/><link as="script" rel="preload" href="/mukul-jain/framework-9967734e6dee5d5b8f73.js"/><link as="script" rel="preload" href="/mukul-jain/app-c9e7faa67de45a1abd33.js"/><link as="script" rel="preload" href="/mukul-jain/commons-65bbc7820d79211d63d7.js"/><link as="script" rel="preload" href="/mukul-jain/component---src-pages-markdown-remark-frontmatter-slug-js-5e74476baa361bef27b0.js"/><link as="fetch" rel="preload" href="/mukul-jain/page-data/blog/smart-grid-a-lightweight-virtualized-grid/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/mukul-jain/page-data/sq/d/3897982121.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/mukul-jain/page-data/app-data.json" crossorigin="anonymous"/></head><body class="dark"><script>
              (function() {
                var preferredTheme;
                try {
                  preferredTheme = localStorage.getItem('theme') || 'dark';
                } catch (err) { }

                window.__theme = preferredTheme;

                if(!document.body.classList.contains(preferredTheme)){
                  // remove defualt theme
                  document.body.classList.remove('dark')
                  document.body.classList.add(preferredTheme)
                }

                window.__onThemeChange = function() {};
                window.__setTheme = function(newTheme) {
                  document.body.classList.remove(window.__theme);
                  window.__theme = newTheme;
                  preferredTheme = newTheme;
                  document.body.classList.add(window.__theme);
                  window.__onThemeChange(newTheme);
                  window.__setPreferredTheme(newTheme);
                }
                window.__setPreferredTheme = function(newTheme) {
                  try {
                    localStorage.setItem('theme', newTheme);
                  } catch (err) {}
                }

                

              })();
            </script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><main class="with-padding"><div><div class="flex row-space-between"><div><a style="text-transform:capitalize" href="/mukul-jain/"> <!-- -->Mukul Jain<!-- --> /</a><a style="text-transform:capitalize" href="/mukul-jain/blog"> <!-- -->blog<!-- --> /</a></div><div hidden="" style="height:25px" class="toggle undefined"><div class="toggleWrapper" aria-label="Switch between Dark and Light mode"><input type="checkbox" class="dn" id="dn" name="dn"/><label for="dn" class="toggle-label"><span class="toggle__handler"><span class="crater crater--1"></span><span class="crater crater--2"></span><span class="crater crater--3"></span></span><span class="star star--1"></span><span class="star star--2"></span><span class="star star--3"></span><span class="star star--4"></span><span class="star star--5"></span><span class="star star--6"></span></label></div></div></div></div><div class="blog-post"><div class="blog-post-header"><h1 class="no-margin">Smart Grid: A Lightweight virtualized grid.</h1><p class="no-margin" style="font-size:16px">March 08, 2020</p></div><div class="blog-post-content"><div><blockquote>
<p>Live Demo: <a href="https://mukuljainx.github.io/smart-grid/" target="_blank" rel="nofollow noopener noreferrer">Smart Grid</a></p>
</blockquote>
<p>There are penality of React tables, everyone got its pros and cons but they all are pretty heavy, they all have almost the same features and few outstanding features and then there is <a href="https://www.ag-grid.com/" target="_blank" rel="nofollow noopener noreferrer">ag-grid</a> full of awesome feature but it is pretty heavy half of our vendor bundle was ag-grid ~ 200kb (gzipped 😱).</p>
<p>Okay so change the table, right? but there is no another package which provides the pinning feature so well, in most of the package, the tables scroll goes out of sync due to prioritization in JS. One fine Saturday it clicked me what if those two tables don’t have different vertical scroll but they are inside one container which is scrollable and they have different horizontal scrolls. Obviously the height of the tables will be the same, so scroll will always be in sync.</p>
<p>Something like this:</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
  <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
    height<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
    width<span class="token operator">:</span> <span class="token number">700</span><span class="token punctuation">,</span>
    border<span class="token operator">:</span> <span class="token string">"1px solid"</span><span class="token punctuation">,</span>
    display<span class="token operator">:</span> <span class="token string">"flex"</span><span class="token punctuation">,</span>
    overflow<span class="token operator">:</span> <span class="token string">"auto"</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
    <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
      height<span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
      width<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
      border<span class="token operator">:</span> <span class="token string">"1px solid red"</span><span class="token punctuation">,</span>
      flexShrink<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
  <span class="token punctuation">/></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
    <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
      height<span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
      width<span class="token operator">:</span> <span class="token number">800</span><span class="token punctuation">,</span>
      border<span class="token operator">:</span> <span class="token string">"1px solid blue"</span><span class="token punctuation">,</span>
      flexShrink<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
  <span class="token punctuation">/></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div>
<p>If you will run this code you will both <strong>div</strong>’s are in sync vertically but the whole container is scrolling horizontally, but we want our unpinned table, i.e. right one for now to scroll, how to solve that? Simply add the right table inside a div with <code class="language-text">overflowX:auto</code>, something like:</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
  <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
    height<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span>
    width<span class="token operator">:</span> <span class="token number">700</span><span class="token punctuation">,</span>
    border<span class="token operator">:</span> <span class="token string">"1px solid"</span><span class="token punctuation">,</span>
    display<span class="token operator">:</span> <span class="token string">"flex"</span><span class="token punctuation">,</span>
    overflow<span class="token operator">:</span> <span class="token string">"auto"</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
<span class="token punctuation">></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
    <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
      height<span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
      width<span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
      border<span class="token operator">:</span> <span class="token string">"1px solid red"</span><span class="token punctuation">,</span>
      flexShrink<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
  <span class="token punctuation">/></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> overflowX<span class="token operator">:</span> <span class="token string">"auto"</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
      <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
        height<span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span>
        width<span class="token operator">:</span> <span class="token number">800</span><span class="token punctuation">,</span>
        border<span class="token operator">:</span> <span class="token string">"1px solid blue"</span><span class="token punctuation">,</span>
        flexShrink<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
    <span class="token punctuation">/></span></span><span class="token plain-text">
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div>
<h2>Working Demo</h2>
<iframe src="https://codesandbox.io/embed/sad-kilby-0y4pl?fontsize=14&hidenavigation=1&theme=dark&view=preview"
     style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;"
     title="virtualized-table"
     allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
     sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
   ></iframe>
<p>Major Problem Solved 🎉 then I inspected ag-grid demo page to check what they do and voila, they are doing almost the same thing.</p>
<p>Cool! but what about virtualization?</p>
<h2>Virtualization</h2>
<p>I am very lazy and hate reinventing the wheel, so I searched for packages which provide virtualization and found some, so I tried using them with the above code, the result was something like this, refer to table with <strong>virtual table</strong> heading. The package I used is <strong>react-tiny-virtual-list</strong> which obviously is not at fault, it is doing what it is supposed to.</p>
<iframe src="https://codesandbox.io/embed/table-virtual-j1o8u?fontsize=14&hidenavigation=1&theme=dark&view=preview"
     style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;"
     title="table-virtual"
     allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
     sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
   ></iframe>
<p>There is one more table there, below that one is also virtualized else tab will be hanged with large data, so how I achieved it, by calculating current position using <code class="language-text">**scrollOffset</code>** then calculating a start &#x26; end position something like</p>
<div class="gatsby-highlight" data-language="jsx"><pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> start <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>position <span class="token operator">-</span> buffer <span class="token operator">-</span> visibleCount<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> end <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>position <span class="token operator">+</span> buffer <span class="token operator">+</span> visibleCount<span class="token punctuation">,</span> data<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Then just rendering just those rows, It was not expected to go fine in one go as I didn’t think virtualization was this simple, but that is what it is! 🙅‍♂️</p>
<p>I also tried using fast-memoize to memoize rows so they won’t be recalculated thus saving some work which results in smooth scrolling experience but page started crashing for the huge data set due to increased JS heap size.</p>
<p>I went through react-virtualized to what they have done and I found very amazing thing there, cache while scroll and clear it when scroll stops. Create a local cache always look for grid row in the cache first if not create row &#x26; cache it. Assign an empty object to the cache when the user stops scrolling.</p>
<h2>Dynamic Height</h2>
<p>Dynamic height is also supported in version <code class="language-text">v0.1.0</code> , this is achieved by rendering rows twice once for getting the height of the row at some fixed position and the second time with calculated height &#x26; positions, these values are cached so when the user scrolls to the previously viewed rows they are only rendered once as we already have their height and position stored in cache.</p>
<p>When data changes for any row, recalculation may be needed but this has been left user by providing <code class="language-text">gridActions</code> as the user can predict when the height may change and the cache will not be cleared every time the data changes. You view the live demo at <a href="https://mukuljainx.github.io/smart-grid/" target="_blank" rel="nofollow noopener noreferrer">https://mukuljainx.github.io/smart-grid/</a></p>
<p>That’s how <a href="https://mukuljainx.github.io/smart-grid/" target="_blank" rel="nofollow noopener noreferrer">smart-grid</a> came to existence, it’s an open-source project please open a PR or issue if needed on <a href="https://github.com/mukuljainx/smart-grid" target="_blank" rel="nofollow noopener noreferrer">Github</a>. 😇</p></div></div></div></main><div class="glitter-footer "><img alt="city-scape" class="city-scape" src="/mukul-jain/static/cityscape1-242d288ba10c08320ce8fd5d7a65011a.svg"/></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-84739802-3', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/smart-grid-a-lightweight-virtualized-grid/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-3324c1b311f5eab48c30.js"],"app":["/app-c9e7faa67de45a1abd33.js"],"component---src-pages-404-jsx":["/component---src-pages-404-jsx-fc85056d082fc5b38574.js"],"component---src-pages-blog-jsx":["/component---src-pages-blog-jsx-21bcd2d05ba92855470f.js"],"component---src-pages-contact-jsx":["/component---src-pages-contact-jsx-5992c8531dfdee8c9a98.js"],"component---src-pages-index-jsx":["/component---src-pages-index-jsx-9f5510325e7ddaf7e5a4.js"],"component---src-pages-markdown-remark-frontmatter-slug-js":["/component---src-pages-markdown-remark-frontmatter-slug-js-5e74476baa361bef27b0.js"],"component---src-pages-projects-index-jsx":["/component---src-pages-projects-index-jsx-1820d307b537685c22ac.js"]};/*]]>*/</script><script src="/mukul-jain/polyfill-3324c1b311f5eab48c30.js" nomodule=""></script><script src="/mukul-jain/component---src-pages-markdown-remark-frontmatter-slug-js-5e74476baa361bef27b0.js" async=""></script><script src="/mukul-jain/commons-65bbc7820d79211d63d7.js" async=""></script><script src="/mukul-jain/app-c9e7faa67de45a1abd33.js" async=""></script><script src="/mukul-jain/framework-9967734e6dee5d5b8f73.js" async=""></script><script src="/mukul-jain/webpack-runtime-5550ab59d76db91a0fb6.js" async=""></script></body></html>